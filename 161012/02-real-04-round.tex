\subsection{Прочее безумие}

\begin{frame}
	\tableofcontents[currentsection,currentsubsection]
\end{frame}

\begin{frame}
	Стандарт требует, что результат любой операции должен быть максимально точен, а округление должно быть до ближайшего числа.
	При этом округлять $\frac{1}{2}$ всегда вверх нехорошо "--- ошибка будет сильно накапливаться.
	Поэтому округляют до ближайшего чётного (<<банковское>> округление).
\end{frame}

\begin{frame}{Ручное округление}
	Самые популярные:
	\begin{center}
		\begin{tabular}{|c|c|c|c|c|}
			\hline
			\t{x} & \t{floor(x)} & \t{round(x)} & \t{ceil(x)} & \t{int(x) } \\\hline
			-1.6 & -2 & -2 & -1 & -1 \\\hline
			-1.5 & -2 & -2 & -1 & -1 \\\hline
			-1.4 & -2 & -1 & -1 & -1 \\\hline
			-0.6 & -1 & -1 & 0 & 0 \\\hline
			-0.5 & -1 & 0 & 0 & 0 \\\hline
			-0.4 & -1 & 0 & 0 & 0 \\\hline
			0.4 & 0 & 0 & 1 & 0 \\\hline
			0.5 & 0 & 0 & 1 & 0 \\\hline
			0.6 & 0 & 1 & 1 & 0 \\\hline
			1.4 & 1 & 1 & 2 & 1 \\\hline
			1.5 & 1 & 2 & 2 & 1 \\\hline
			1.6 & 1 & 2 & 2 & 1 \\\hline
		\end{tabular}
	\end{center}
\end{frame}

\begin{frame}[fragile]{Погрешность при округлении}
	Будьте осторожны, округление не знает про погрешность вычислений:
\begin{minted}{python}
from math import ceil
print(ceil(1))                  # 1
print(ceil(1.000000000000001))  # 2
\end{minted}
	Поэтому на практике, если могло получиться число, близкое к целому, лучше использовать \t{round} или добавлять \t{eps}.

	Упражнение: как именно добавлять?

	Не используйте типы с плавающей точкой для хранения количества денег или чего-то подобного, что требует точности при рассчётах.
	Вам может быть удобно, но ошибки округления "--- не то, что хочется банку.
\end{frame}
