\documentclass[utf8,xcolor=table]{beamer}

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{minted}
\usepackage{ulem}
\usepackage{cmap}

\hypersetup{colorlinks,urlcolor=blue}

\mode<presentation>{
	\usetheme{CambridgeUS}
}

\renewcommand{\t}[1]{\ifmmode{\mathtt{#1}}\else{\texttt{#1}}\fi}

\title{ДЗ и популярные проблемы}
\author{Егор Суворов}
\institute[СПб АУ]{Курс <<Парадигмы и языки программирования>>, подгруппа 3}
\date[28.09.2016]{Среда, 28 сентября 2016 года}

\setlength{\arrayrulewidth}{1pt}

\begin{document}

\begin{frame}
\titlepage
\end{frame}

\begin{frame}[t]{Организационное}
	\begin{itemize}
	\item Начинайте тему с \t{[parad]}.
	\item
		Отдельное домашнее задание "--- отдельная цепочка писем (только e-mail).
		Добавляйте \t{[task-02]} (или 03, или 05...) после \t{[parad]}.
	\item
		Сохраняйте историю переписки внутри цепочек.
	\item
		Вопрос "--- либо отдельная цепочка писем с подстрочкой <<\t{вопрос}>> 
		в теме и тэгом задания (регистр неважен), либо ВК/Telegram.
	\item
		Не сдавайте домашки в письме с темой <<\t{вопрос}>>.
	\item
		Сразу добавляйте ссылку на страницу с файлом/папкой.
	\end{itemize}
	Мотивация: на вопросы я могу ответить быстро и на ходу.

	Примеры тем:
	\begin{itemize}
		\item \t{[parad] [task-02] Попытка сдачи}
		\item \t{[parad] [task-02] \textit{Вопрос} по заданию}
		\item \sout{\t{[parad] [task-02] Попытка сдачи и вопрос}}
		\item \sout{\t{Домашнее задание 2 из \#АУ \#nofilter}}
	\end{itemize}
\end{frame}

\begin{frame}[t]{Примерный план занятий}
	Темы (по каждой надо получить баллы):
	\begin{enumerate}
		\item Основы синтаксиса Python (дз 1)
		\item Python (дз 2)
		\item Numpy и основы ООП (дз 3-...)
		\item Продвинутые классы в Python
		\item Паттерны проектирования
		\item Представление чисел в пямяти
		\item Параллельное программирование
		\item Функциональное программирование (Haskell)
		\item Введение в SQL
		\item Дополнительные главы "--- в процессе обсуждения.
	\end{enumerate}
\end{frame}

\begin{frame}[t]{Получение зачёта}
	Если не закрыта какая-то тема, то:
	\begin{itemize}
		\item
			Чётких правил нет, <<на усмотрение преподавателя>>.
		\item
			Если не закрыта какая-то одна тема, а остальное выглядит хорошо "--- надо сделать задачу средней сложности по незакрытой теме.
		\item
			Если тема не покрывается одной задачей "--- их будет несколько.
		\item
			Сложность задачи "--- примерно как домашка. Code Review остаётся, вопросы задавать можно.
		\item
			Возможно, потребуется делать не дома, а лично присутствуя в классе (<<на усмотрение>>).
	\end{itemize}
	Если мало баллов, то, скорее всего, потребуется решить какое-то количество задач по темам, где у вас мало баллов.
\end{frame}

\begin{frame}[t]{Обратная связь}
	\begin{itemize}
		\item
			Готов обсуждать и даже менять по согласованию критерии оценки, правила игры, оргмоменты.
		\item
			Любая критика и жалобы на жизнь также приветствуются.
			Особенно если есть предложения <<как лучше>>.
		\item
			Можно писать и передавать коллективные письма.
		\item
			О планируемых завалах (неделя коллоквиумов/презентация проектов/отдых) лучше предупреждать заранее.
		\item
			Кому (не)комфортно читать технический английский?
		\item
			Чего вы ждёте от этого курса? От университета?
		\item
			Делитесь тайными знаниями не только с товарищами, но и со мной.
			Тогда я знаю, что я упустил на паре.
	\end{itemize}
\end{frame}

\begin{frame}[t]{Фатальные проблемы в дз}
	\begin{enumerate}
		\item Несоответствие \href{https://www.python.org/dev/peps/pep-0008/}{PEP 8}.
		\item \href{https://ru.wikipedia.org/wiki/\%D0\%A8\%D0\%B5\%D0\%B1\%D0\%B0\%D0\%BD\%D0\%B3_(Unix)}{Shebang} не совсем верный, правильно 
			\href{http://stackoverflow.com/a/19305076/767632}{так}:
			\[ \t{/usr/bin/env~python3} \]
		\item Некомпилирующийся код: синтаксические ошибки, опечатки в именах переменных или функций.
		\item Несоответствие заданию: в основном проблемы с вводом и выводом (откуда/куда и формат).
	\end{enumerate}
	\begin{center}
		\textbf{Это всё можно проверить автоматически!}
	\end{center}
	\begin{itemize}
		\item Скрипты на bash/cmd.
		\item Перенаправление потоков ввода-вывода и команда \t{diff}.
		\item Хоткей в редакторе для запуска.
	\end{itemize}
\end{frame}

\begin{frame}[t]{Архитектурные проблемы-1}
	Разделение на функции. В функции выносится:
	\begin{enumerate}
		\item Повторяющийся код.
		\item Делающий ровно одну вещь, которая описывается названием.
		\item Логический кусок: <<программа обходит папку, \textit{ищет дубликаты}, выводит список>>.
	\end{enumerate}

	Смешивание кусков в коде (ввод, решение, вывод).
	Если куски смешаны, то при изменении требований к одному (например, неверно поняли задание или забыли деталь) надо:
	\begin{enumerate}
		\item Аккуратно искать вхождения кода в программу.
		\item Следить за зависимостями между кусками.
		\item Тестировать сразу все куски вместе, а не по отдельности.
	\end{enumerate}
\end{frame}

\begin{frame}[t]{Архитектурные проблемы-2}
	Дополнительная проблема: возникает соблазн оптимизировать и подгонять решение под формат вывода.
	Например, сразу готовить данные к выводу: собирать строку \t{file1:file2} вместо массива \t{["file1", "file2"]}.

	В чём проблема? \pause

	Мы предполагаем, что в имени файла нет двоеточия. \pause
	
	А это неверно под Linux. \pause

	Если куски отделены:
	\begin{enumerate}
		\item Связи тоньше "--- легче следить и отлаживать.
		\item Легче доказывать корректность из-за изолированности.
		\item Можно полностью стереть один кусок и переписать, ничего не сломается.
		\item Можно один кусок заменить на <<фальшивую>> реализацию для тестирования.
	\end{enumerate}
\end{frame}

\begin{frame}[t]{Архитектурные запахи}
	\begin{itemize}
		\item Есть повторы кода или очень похожего кода. Надо изолировать.
		\item
			Код, в котором легко ошибиться (плюс-минус единица, есть крайний случай, перепутать аргументы местами).
			Можно не ошибиться, но перепутать инварианты в разных кусках кода.
			Локально корректно, глобально "--- нет.
		\item
			Наличие цикла с инвариантом, который нельзя сразу сформулировать.
			Или из-за которого лезут случаи.
			Пример: поиск одинаковых подряд идущих файлов (\t{std::unique} в C++).
			Лучше функциональный стиль без изменений состояния программы.
		\item
			Наличие случаев, которые не изолированы в отдельной функции.
			Например, проверка \t{name[0]} и пустые строки вместо простого \t{startswith}.
		\item
			Неожиданные (нетривиальные) формулы.
	\end{itemize}
	Внутри функций тоже можно выделять логические куски и изолировать их друг от друга!
\end{frame}

\begin{frame}[t]{Имена}
	Имена функций:
	\begin{enumerate}
		\item Обычно содержат глагол: \t{read\_matrix}, \t{multiply}, \t{print}.
		\item Длиннее одной буквы.
		\item Не слишком общие и полностью описывают действие функции:
			\sout{\t{do}}, \sout{\t{read}}, \sout{\t{process\_files}}.
	\end{enumerate}
	
	Имена переменных:
	\begin{enumerate}
		\item Одна буква "--- либо целочисленный счётчик \t{i}, либо буква из задания/математической формулы из статьи.
		\item Единственное число.
		\item Множественное число для списков.
		\item Для словарей: $key\t{\_to\_}value$.
		\item \t{\_} (нижнее подчёркивание), если не используется дальше в коде.
	\end{enumerate}
\end{frame}

\begin{frame}[t]{Запахи имён и переменных}
	Про имена:
	\begin{itemize}
		\item Имена похожи: \t{dir\_big}, \t{dir\_large} или \t{res1}, \t{res2}. В чём отличие переменных?
		\item Нельзя описать, что делает функция или что хранит переменная. Слишком много на себя берут? Переиспользуются в разных смыслах?
		\item Временная переменная с именем \t{temp}.
	\end{itemize}
	Про переменные:
	\begin{itemize}
		\item Объявлена в начале функции, а используется потом.
		\item Объявлена не на том же уровне, где используется.
		\item Входит в инвариант цикла, хотя может этого и не делать.
	\end{itemize}
\end{frame}

\end{document}
